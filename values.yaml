namespace: botforge

backend:
  image:
    repository: hellochemo/botforge-backend
    tag: latest
    pullPolicy: IfNotPresent
  service:
    type: NodePort
    port: 8080
    nodePort: 30080
  env:
    GO_ENV: "production"
  config:
    mongodbUri: "mongodb+srv://placeholder"
    googleClientId: "placeholder"
    jwtSecret: "placeholder"
    UploadsDirectory: "/app/uploads"
    MaxFileSize: 10485760
    firebase:
      apiKey: "placeholder"
      authDomain: "placeholder"
      projectId: "placeholder"
    database:
      host: "botforge-postgres"
      port: "5432"
      user: "avnadmin"
      password: "placeholder"
      name: "botforge"
    redis:
      address: "botforge-redis:6379"
      user: "default"
      password: "placeholder" # Using simple password for local redis, or we can use the one from env if we configure redis to use it
      db: "0"
    publicKeyPath: "/app/keys/public.pem"
    privateKeyPath: "/app/keys/private.pem"
    ragBackendURL: "http://botforge-rag:8000"
    websiteFilename: "website.txt"
    upstashURL: "https://decent-hawk-84124-us1-vector.upstash.io"
    upstashToken: "placeholder"

rag:
  image:
    repository: hellochemo/botforge-rag
    tag: latest
    pullPolicy: IfNotPresent
  service:
    type: ClusterIP
    port: 8000
  env:
    ENVIRONMENT: "production"
    # DATABASE_URL and REDIS_URL are constructed in deployment using postgres/redis values below
    OPENAI_API_KEY: "placeholder"
    UPSTASH_URL: "https://decent-hawk-84124-us1-vector.upstash.io"
    UPSTASH_TOKEN: "placeholder"
    upload_location: "/app/uploads"
    DEFAULT_HISTORY_SIZE: "3"
    INTENT_DETECTION_MODEL: "gpt-4"
    INTENT_DETECTION_MAX_TOKENS: "50"
    INTENT_DETECTION_TEMPERATURE: "0.3"
    EXECUTION_ANALYSIS_MODEL: "gpt-3.5-turbo"
    EXECUTION_ANALYSIS_MAX_TOKENS: "200"
    EXECUTION_ANALYSIS_TEMPERATURE: "0.3"
    MCP_VALIDATION_TIMEOUT: "15.0"
    MCP_EXECUTION_TIMEOUT: "30.0"
    MCP_HTTP_TIMEOUT: "30.0"
    MCP_VALIDATION_HTTP_TIMEOUT: "10.0"

redis:
  image: redis:7-alpine
  service:
    port: 6379
  password: "placeholder"

postgres:
  image: postgres:15-alpine
  service:
    port: 5432
  env:
    POSTGRES_DB: botforge
    POSTGRES_USER: avnadmin
    POSTGRES_PASSWORD: "placeholder"

mongo:
  enabled: true
  image: mongo:6.0
  service:
    port: 27017
  env:
    MONGO_INITDB_ROOT_USERNAME: root
    MONGO_INITDB_ROOT_PASSWORD: "placeholder"
